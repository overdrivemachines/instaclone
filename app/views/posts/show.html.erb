<% turbo_frame_tag "post-show-modal-container", target: "_top" do %>
  <%# #modal_post_32 %>

  <div id="<%= dom_id(@post, :modal) %>">
  </div>
<% end %>
<section class="holygrail-content posts-show">
  <div class="container">
    <div class="post-container row">
      <div class="post-image-container col-lg-7">
        <%= image_tag @post.image, class: "post-image" %>
      </div>
      <div class="post-right-container col-lg-5">
        <div class="post-author-container">
          <div class="post-author-ic">
            <%= image_tag @post.user.avatar_as_thumbnail %>
          </div>
          <div class="post-author-info">
            <div class="name">
              <%= link_to @post.user do %>
                <%= @post.user.full_name %>
                <span class="username">@<%= @post.user.username %></span>
              <% end %>
            </div>
            <div class="ago">Posted <%= time_ago_in_words(@post.created_at) %> ago</div>
          </div>
          <div class="post-ellipsis">
            <div class="btn-group">
              <a href="#" class="p-2" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="fa-solid fa-ellipsis " ></i>

              </a>
              <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark ">
                <%# TODO: change unfollow to follow %>
                <% if @post.user_id == current_user.id %>
                  <li>
                    <%= link_to "Edit", edit_post_path(@post), class: "dropdown-item" %>
                  </li>
                  <li>
                    <%= link_to "Delete", @post, data: { turbo_method: :delete, turbo_frame: "_top" }, class: "dropdown-item text-danger" %>
                  </li>
                <% else %>
                  <li><a class="dropdown-item" href="#">Follow</a></li>
                <% end %>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="#">Copy Link</a></li>
                <li><a class="dropdown-item" href="#">Share</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="post-actions">
          <div class="left">
            <button class="btn-fa"><i class="fa-regular fa-heart"></i></button>
            <button class="btn-fa"><i class="fa-solid fa-heart liked"></i></button>
            <button class="btn-fa"><i class="fa-regular fa-comment"></i></button>
          </div>
          <div class="right">
            <button class="btn-fa"><i class="fa-regular fa-bookmark"></i></button>
          </div>

        </div>
        <div class="post-stats">
          <div class="likes-count">2,306 likes</div>
          <div class="comments-count">45 Comments</div>
        </div>
        <div class="comments-container">
          <% if !@post.caption.blank? %>
            <div class="comment">
              <div class="comment-content">
                <%= link_to @post.user.username, @post.user %> <%= @post.caption %>
              </div>
              <div class="comment-like"><button class="btn-fa"><i class="fa-regular fa-heart"></i></button></div>
            </div>
          <% end %>

          <div class="comment">
            <div class="comment-content"><b>
                jacobwiedrich101</b> Some good teamwork is necessary, we can only fly so high solo. üî•üôåüëè Lorem ipsum dolor sit amet consectetur adipisicing elit. Perferendis, explicabo illo voluptates possimus repellat tenetur
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit odio deserunt harum, quo dicta labore porro error minima natus voluptate atque, minus sint corporis beatae repellat temporibus at fugiat. Impedit!
              Lorem, ipsum dolor sit amet consectetur adipisicing elit. Odio repellendus animi ratione repellat, molestias aliquam? Ducimus porro in quam aut, voluptate ex dolorem quis. Nulla necessitatibus eius cumque accusantium nemo!
              Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit exercitationem quaerat doloribus, labore cum amet voluptatibus et quo voluptates laboriosam quod enim facere nihil atque neque ipsum ea maxime voluptas?
              Lorem, ipsum dolor sit amet consectetur adipisicing elit. Fugiat asperiores magnam eaque neque iusto placeat vitae et, quaerat esse aut quas recusandae doloribus labore officiis possimus veniam in corrupti aperiam!
            </div>
            <div class="comment-like"><button class="btn-fa"><i class="fa-regular fa-heart"></i></button></div>
          </div>

          <a href="#" class="view-all-link">View all 45 comments</a>

        </div>
        <div class="new-comment-container">
          <form action="#" class="new-comment-form">

            <!--           <label for="new_comment" class="col-form-label">Comment</label> -->
            <textarea class="form-control" id="new_comment"></textarea>
            <a href="" class="btn btn-primary">Post</a>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
